<p><b>THÔNG TIN CÁ NHÂN</b></p>
<div fxLayout="row column" fxLayoutGap="10px grid" class="form-content">
  <app-textbox fxFlex="100%" fxFlex.gt-sm="100%" fxFlex.sm="100%" id="HoTen" label="HỌ VÀ TÊN" [required]="true"
      placeholder="HỌ VÀ TÊN" [required]="true" [upperCase]="true" [(model)]="taiKhoan.HoTen"
      [validationerror]="'HoTen' | validationerror:validationErrors">
    </app-textbox>
    <app-datepicker  fxFlex="60%" fxFlex.gt-sm="70%" fxFlex.sm="70%" id="NgayThangNamSinh"
    label="NGÀY SINH (Đầy đủ)" [(model)]="taiKhoan.NgayThangNamSinh" [required]="true"
    (modelChange)="ngayThangNamSinhChange($event)"
    [validationerror]="'NgayThangNamSinh' | validationerror:validationErrors">
  </app-datepicker>

  <app-textbox  fxFlex="40%" fxFlex.gt-sm="30%" fxFlex.sm="30%" id="NamSinh" label="NĂM SINH" type="number"
    [(model)]="taiKhoan.NamSinh" [required]="true"
    [validationerror]="'NamSinh' | validationerror:validationErrors"
    [disabled]="taiKhoan.NgayThangNamSinh!=null">
  </app-textbox>

    <app-radio fxFlex="100%" fxFlex.gt-sm="100%" fxFlex.sm="100%" id="GioiTinh" class="mt-1" label="GIỚI TÍNH"
      [items]="[{Value:1,Text:'Nam'},{Value:2,Text:'Nữ'}]" [(model)]="taiKhoan.GioiTinh"
      [validationerror]="'GioiTinh' | validationerror:validationErrors">
    </app-radio>

    <app-textbox fxFlex="100%" fxFlex.gt-sm="100%" fxFlex.sm="100%" id="SoDienThoai" label="SỐ ĐIỆN THOẠI" [required]="true"
      placeholder="SỐ ĐIỆN THOẠI" [required]="true" [(model)]="taiKhoan.SoDienThoai"
      [validationerror]="'SoDienThoai' | validationerror:validationErrors">
    </app-textbox>

    <app-textbox fxFlex="100%" fxFlex.gt-sm="100%" fxFlex.sm="100%" id="Email" label="EMAIL" placeholder="EMAIL"
      [(model)]="taiKhoan.Email" [validationerror]="'Email' | validationerror:validationErrors">
    </app-textbox>

    <app-textbox fxFlex="100%" fxFlex.gt-sm="100%" fxFlex.sm="100%" id="SoHoChieu" label="SỐ HỘ CHIẾU/CMND/CCCD"
      placeholder="Số hộ chiếu/CMND/CCCD" [(model)]="taiKhoan.SoChungMinhThu"
      [validationerror]="'SoChungMinhThu' | validationerror:validationErrors">
    </app-textbox>

    <!-- <app-select fxFlex="100%" fxFlex.gt-sm="100%" fxFlex.sm="100%" id="QuocTichId" label="QUỐC TỊCH"
  url="Common/GetQuocGiaLookup"
    [(model)]="taiKhoan.QuocTichId" [validationerror]="'QuocTichId' | validationerror:validationErrors">
  </app-select> -->
    <div fxFlex="100%" fxFlex.gt-sm="76%" fxFlex.sm="76%"></div>


    <app-select fxFlex="100%" fxFlex.gt-sm="100%" fxFlex.sm="100%" id="TinhThanh" label="TỈNH/THÀNH"
    url="QuanTriNhomHanhChinhDonViHanhChinh/GetTinhThanhLookup" [(model)]="taiKhoan.TinhThanhId"
    [(modelText)]="taiKhoan.TinhThanhTen" [required]="true"
    [validationerror]="'TinhThanhId' | validationerror:validationErrors" [showIconAddOrEdit]="true"
    tooltipIconAdd="Thêm tỉnh/thành mới vào danh mục" tooltipIconEdit="Cập nhật tỉnh/thành vào danh mục"
    componentAddTitle="THÊM TỈNH/THÀNH MỚI VÀO DANH MỤC" componentEditTitle="CẬP NHẬT TỈNH/THÀNH VÀO DANH MỤC"
    componentAddOrEditWidth="1000px" [componentAddOrEdit]="themTinhThanhMoiTemplate"
    [componentAddOrEditContext]="{$implicit:taiKhoan.TinhThanhId}">
    <ng-template #themTinhThanhMoiTemplate let-dataItem>
      <app-don-vi-hanh-chinh-chi-tiet [showOnPopup]="true" [data]="{Id:dataItem}"
        [isUpdate]="dataItem!=null && dataItem>0" capHanhChinhDefault="1"
        (dataChange)="themHoacSuaTinhThanhLuuChange($event)">
      </app-don-vi-hanh-chinh-chi-tiet>
    </ng-template>
  </app-select>

  <app-select fxFlex="100%" fxFlex.gt-sm="100%" fxFlex.sm="100%" id="QuanHuyen" label="QUẬN/HUYỆN"
    url="QuanTriNhomHanhChinhDonViHanhChinh/GetQuanHuyenLookup" [required]="true"
    [queryInfo]="{TinhThanhId: (taiKhoan.TinhThanhId==null?0:taiKhoan.TinhThanhId)}"
    [bind]="false" [(model)]="taiKhoan.QuanHuyenId" [(modelText)]="taiKhoan.QuanHuyenTen"
    [validationerror]="'QuanHuyenId' | validationerror:validationErrors"
    [disabled]="taiKhoan.TinhThanhId==null" [showIconAddOrEdit]="true"
    tooltipIconAdd="Thêm quận/huyện mới vào danh mục" tooltipIconEdit="Cập nhật quận/huyện vào danh mục"
    componentAddTitle="THÊM QUẬN/HUYỆN MỚI VÀO DANH MỤC" componentEditTitle="CẬP NHẬT QUẬN/HUYỆN VÀO DANH MỤC"
    componentAddOrEditWidth="1000px" [componentAddOrEdit]="themQuanHuyenMoiTemplate"
    [componentAddOrEditContext]="{$implicit:taiKhoan.QuanHuyenId}">
    <ng-template #themQuanHuyenMoiTemplate let-dataItem>
      <app-don-vi-hanh-chinh-chi-tiet [showOnPopup]="true" [data]="{Id:dataItem}"
        [isUpdate]="dataItem!=null && dataItem>0" capHanhChinhDefault="2"
        [tinhThanhIdDefault]="taiKhoan.TinhThanhId" (dataChange)="themHoacSuaQuanHuyenLuuChange($event)">
      </app-don-vi-hanh-chinh-chi-tiet>
    </ng-template>
  </app-select>

  <app-select fxFlex="100%" fxFlex.gt-sm="100%" fxFlex.sm="100%" id="PhuongXa" label="PHƯỜNG/XÃ"
    url="QuanTriNhomHanhChinhDonViHanhChinh/GetPhuongXaLookup" [required]="true"
    [queryInfo]="{TinhThanhId: (taiKhoan.TinhThanhId==null?0:taiKhoan.TinhThanhId), QuanHuyenId: (taiKhoan.QuanHuyenId==null?0:taiKhoan.QuanHuyenId)}"
    [bind]="false" [(model)]="taiKhoan.PhuongXaId" [(modelText)]="taiKhoan.PhuongXaTen"
    [validationerror]="'PhuongXaId' | validationerror:validationErrors"
    [disabled]="taiKhoan.QuanHuyenId==null" [showIconAddOrEdit]="true"
    tooltipIconAdd="Thêm phường/xã mới vào danh mục" tooltipIconEdit="Cập nhật phường/xã vào danh mục"
    componentAddTitle="THÊM PHƯỜNG/XÃ MỚI VÀO DANH MỤC" componentEditTitle="CẬP NHẬT PHƯỜNG/XÃ VÀO DANH MỤC"
    componentAddOrEditWidth="1000px" [componentAddOrEdit]="themPhuongXaMoiTemplate"
    [componentAddOrEditContext]="{$implicit:taiKhoan.PhuongXaId}">
    <ng-template #themPhuongXaMoiTemplate let-dataItem>
      <app-don-vi-hanh-chinh-chi-tiet [showOnPopup]="true" [data]="{Id:dataItem}"
        [isUpdate]="dataItem!=null && dataItem>0" capHanhChinhDefault="3"
        [tinhThanhIdDefault]="taiKhoan.TinhThanhId" [quanHuyenIdDefault]="taiKhoan.QuanHuyenId"
        (dataChange)="themHoacSuaPhuongXaLuuChange($event)">
      </app-don-vi-hanh-chinh-chi-tiet>
    </ng-template>
  </app-select>

  <app-select fxFlex="100%" fxFlex.gt-sm="100%" fxFlex.sm="100%" id="KhomAp" label="KHU PHỐ/THÔN XÓM"
    url="QuanTriNhomHanhChinhDonViHanhChinh/GetKhomApLookup"
    [queryInfo]="{TinhThanhId: (taiKhoan.TinhThanhId==null?0:taiKhoan.TinhThanhId), QuanHuyenId: (taiKhoan.QuanHuyenId==null?0:taiKhoan.QuanHuyenId), PhuongXaId: (taiKhoan.PhuongXaId==null?0:taiKhoan.PhuongXaId)}"
    [bind]="false" [(model)]="taiKhoan.KhomApId" [(modelText)]="taiKhoan.KhomApTen"
    [validationerror]="'KhomApId' | validationerror:validationErrors"
    [disabled]="taiKhoan.PhuongXaId==null" [showIconAddOrEdit]="true"
    tooltipIconAdd="Thêm khu phố/thôn xóm mới vào danh mục"
    tooltipIconEdit="Cập nhật khu phố/thôn xóm vào danh mục"
    componentAddTitle="THÊM KHU  PHỐ/THÔN XÓM MỚI VÀO DANH MỤC"
    componentEditTitle="CẬP NHẬT KHU  PHỐ/THÔN XÓM VÀO DANH MỤC" componentAddOrEditWidth="1000px"
    [componentAddOrEdit]="themThonXomMoiTemplate"
    [componentAddOrEditContext]="{$implicit:taiKhoan.KhomApId}">
    <ng-template #themThonXomMoiTemplate let-dataItem>
      <app-don-vi-hanh-chinh-chi-tiet [showOnPopup]="true" [data]="{Id:dataItem}"
        [isUpdate]="dataItem!=null && dataItem>0" capHanhChinhDefault="4"
        [tinhThanhIdDefault]="taiKhoan.TinhThanhId" [quanHuyenIdDefault]="taiKhoan.QuanHuyenId"
        [phuongXaIdDefault]="taiKhoan.PhuongXaId" (dataChange)="themHoacSuaThonXomLuuChange($event)">
      </app-don-vi-hanh-chinh-chi-tiet>
    </ng-template>
  </app-select>
  <app-textbox fxFlex="100%" fxFlex.gt-sm="100%" fxFlex.sm="100%" id="DiaChi" label="SỐ NHÀ, ĐƯỜNG PHỐ"
    placeholder="SỐ NHÀ, ĐƯỜNG PHỐ" [(model)]="taiKhoan.SoNha">
  </app-textbox>
</div>
<div class="form-footer">
  <button mat-raised-button type="button" class="mr-1 mt-4" (click)="huycapNhat()">HỦY</button>
  <button mat-raised-button color="primary" type="button" class="mt-4" (click)="capNhat()">CẬP NHẬT</button>
</div>